<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fix Drip Gutters</title>
    <link rel="stylesheet" href="styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>

<body> 
  <!-- Header with Navigation -->
 <header class="header">
  <div class="container nav-container">
    <a href="#home">
      <img src="/img/viber_image_2025-09-05_11-41-36-363-removebg-preview.png" 
           alt="Fix Drip Gutters Logo" class="logo-img" />
    </a>

    <div class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <nav class="nav" id="nav-menu">
  <div class="nav-links">
    <a href="#home" class="nav-link active">Home</a>
    <a href="#about" class="nav-link">About</a>
    <a href="#work" class="nav-link">Our Work</a>
    <a href="#service-area" class="nav-link">Service Area</a>
    <a href="#contact" class="nav-link">Contact</a>
  </div>

  <div class="contact-info">
    <a href="tel:+447123456789">Call Now: +44 7848 254198</a>
    <a href="mailto:contact@fixdripgutters.co.uk">Email: contact@fixdripgutters.co.uk</a>
  </div>

  <span class="nav-underline"></span>
</nav>



  </div>
</header>


  <!-- Hero Section -->
  <section id="home" class="hero">
    <div class="overlay"></div> <!-- Overlay for dark shadow -->
    <div class="hero-content">
      <h1>Reliable Gutter Cleaning Services</h1>
      <p>Protect your home with fast, professional gutter care.</p>
      <a href="#contact" class="btn">Contact Us For Free Quote!</a>
    </div>
  </section>

 <!-- About Section -->
<section id="about" class="section" style="background-color: #f9f9f9; padding: 4rem 1rem;">
  <div class="container" style="
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 2.5rem;
  ">
    <!-- Text -->
    <div style="flex: 1; min-width: 300px;">
      <h2 style="
        font-size: 2.5rem;
        font-weight: 900;
        margin-bottom: 1.5rem;
        color: #3B3B3A;
      ">Who We Are</h2>

      <p style="
        font-size: 1.05rem;
        line-height: 1.8;
        color: #555;
        white-space: pre-line;
      ">
At Fix Drip Gutters, we‚Äôre passionate about delivering exceptional gutter and roofing services that protect your home and enhance its value. Our mission has always been simple: to provide quality, reliability, and outstanding customer service in everything we do.

With a dedicated team of skilled roofing and gutter professionals, we bring years of experience, craftsmanship, and commitment to every project we take on. Whether you‚Äôre in need of roof repairs, gutter installation, maintenance, or inspection, we‚Äôre here to keep your home safe and secure.

We don‚Äôt just aim to meet expectations ‚Äî we strive to exceed them. Our values of integrity, attention to detail, and customer satisfaction guide how we work and how we serve our clients every day.

Let‚Äôs protect your home together.
      </p>
    </div>

    <!-- Image -->
    <div style="flex: 1; min-width: 300px; text-align: center;">
      <img src="/img/IMG_5812 (1).jpeg" alt="Our Team" style="
        width: 100%;
        max-width: 500px;
        border-radius: 12px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.08);
      ">
    </div>
  </div>
</section>


<!-- Before & After Image Slider -->
<!-- <div class="slider-container" id="slider">
  <img src="/img/istockphoto-1475121450-612x612.jpg" class="before-image" alt="Before" />
  <img src="/img/istockphoto-485292592-612x612.jpg" class="after-image" alt="After" id="afterImg"/>
  <div class="slider-handle" id="sliderHandle"></div>
</div> -->

<section class="before-after">
  <h2>Before & After</h2>
  <p>See the difference our gutter cleaning service makes ‚Äî from clogged and messy to clear and fully functional.</p>
  <div class="slider-wrapper">
    <div class="projects-slider">
      <div class="project-card">
        <div class="project-card-inner">
          <div class="project-card-front">
            <img src="img/photo-output (1).jpeg" alt="Gutter cleaning before and after">
          </div>
          <div class="project-card-back">
            <p><b>Before:</b> Gutters filled with leaves and debris. <br>
               <b>After:</b> Completely cleared and ready for smooth water flow.</p>
          </div>
        </div>
      </div>
      <div class="project-card">
        <div class="project-card-inner">
          <div class="project-card-front">
            <img src="img/photo-output (2).jpeg" alt="Gutter cleaning before and after">
          </div>
          <div class="project-card-back">
            <p><b>Before:</b> Heavy buildup blocking the gutter edges. <br>
               <b>After:</b> Clean and open, preventing overflow.</p>
          </div>
        </div>
      </div>
      <div class="project-card">
        <div class="project-card-inner">
          <div class="project-card-front">
            <img src="img/photo-output (3).jpeg" alt="Gutter cleaning before and after">
          </div>
          <div class="project-card-back">
            <p><b>Before:</b> Dirt and moss making the gutters look neglected. <br>
               <b>After:</b> Freshly cleaned, restoring efficiency.</p>
          </div>
        </div>
      </div>
      <div class="project-card">
        <div class="project-card-inner">
          <div class="project-card-front">
            <img src="img/photo-output (4).jpeg" alt="Gutter cleaning before and after">
          </div>
          <div class="project-card-back">
            <p><b>Before:</b> Blockages causing potential water damage. <br>
               <b>After:</b> Professionally cleaned for long-lasting protection.</p>
          </div>
        </div>
      </div>
      <div class="project-card">
        <div class="project-card-inner">
          <div class="project-card-front">
            <img src="img/photo-output.jpeg" alt="Gutter cleaning before and after">
          </div>
          <div class="project-card-back">
            <p><b>Before:</b> Clogged and untidy gutters. <br>
               <b>After:</b> Spotless finish with fully functional drainage.</p>
          </div>
        </div>
      </div>
    </div>
    <div style="text-align: center; margin-top: 1rem;">
      <button id="prevPic" class="btn" style="font-family: 'Poppins', sans-serif">‚Üê Prev</button>
      <button id="nextPic" class="btn" style="font-family: 'Poppins', sans-serif">Next ‚Üí</button>
    </div>
  </div>
</section>





 <!-- Services Section -->
<section id="work" class="section">
  <div class="container">
    <h2 style="margin-bottom: 2.5rem; text-align: center;"><b>Our Services</b></h2>

    <div class="service-row">
      <!-- <div class="service-icon-large">üè†</div> -->
      <div class="service-content">
        <h4>Residential & Commercial Gutter Clearing</h4>
        <p>
          Keep your property protected with our expert gutter clearing services. Blocked gutters can lead to water damage, mold growth, and costly structural issues. Our team uses professional equipment to remove leaves, debris, and buildup‚Äîensuring water flows freely and your home stays safe year-round. Regular maintenance can prevent long-term damage and give you peace of mind, rain or shine.
        </p>
        <p style="color: #1c5986;"><b><i>What we offer?</i></b></p>
        <p>
      Fast, reliable service tailored to your needs. Safe and efficient techniques using the latest equipment. Full debris removal and flow check to ensure optimal performance. Ideal for both residential and commercial properties.
    </p>
      </div>
    </div>

    <div class="service-row">
  <!-- <div class="service-icon-large">üèöÔ∏è</div> -->
  <div class="service-content">
    <h4><b>Roof Repairs & Replacements</b></h4>
    <p>
      Your roof is your home‚Äôs first line of defense. From storm damage to wear and tear, we provide fast, dependable roof repairs and full replacements for all types of roofing, including pitched and flat roofs. Whether you need missing tiles replaced or an entire roof overhaul, our skilled team delivers high-quality workmanship that stands the test of time.
    </p>
    <p style="color: #1c5986;"><b><i>What we offer?</i></b></p>
    <p>
      Tile and slate replacement. Leak detection and emergency repairs. Chimney flashing and leadwork repairs. Complete re-roofing with high-grade materials. Flat roof repair and membrane upgrades.
    </p>
  </div>
</div>

    <div class="service-row">
  <!-- <div class="service-icon-large">üõ†Ô∏è</div> -->
  <div class="service-content">
    <h4><b>Gutter Repairs, Fascia & Soffit Replacement</b></h4>
    <p>
      Damaged gutters? We‚Äôve got you covered. Whether it‚Äôs a small leak or a major break, we repair all types of guttering systems. Our service includes thorough inspections and durable repairs that restore full function. We also replace or repair fascia boards and soffits‚Äîcrucial elements that support your guttering and protect your roofline from water and pests.
    </p>
    <p style="color: #1c5986;"><b><i>What we offer?</i></b></p>

    <p>
      Gutter resealing, re-aligning, and replacing broken sections. Full fascia and soffit replacements in uPVC or timber. Custom color matching to maintain your home‚Äôs look. Preventative solutions to stop future issues
    </p>
    
  </div>
</div>


    <!-- Centered Button -->
    <div style="text-align: center; margin-top: 3rem;">
      <a href="#contact" class="btn">Contact Us For Free Quote!</a>
    </div>
  </div>
</section>


 <!-- Testimonials Section -->
<!-- Testimonials Section -->
<section id="testimonials" class="section" style="background-color:#eaf8f8; padding-bottom: 2rem;">
  <div class="container" style="max-width: 1200px; margin: 0 auto;">
    <h2 style="margin-bottom: 2rem; text-align: center;"><b>What Our Clients Say</b></h2>

    <div class="testimonials-wrapper" style="position: relative; overflow: hidden;">
      <div id="testimonialsSlider" class="testimonials-grid" style="
        display: flex;
        transition: transform 0.5s ease-in-out;
        will-change: transform;
      ">
        <!-- Testimonial Card -->
        <div class="testimonial-card">
          <img src="/img/819aa66e8b442d14f82cf9bf2743e41a.jpg" alt="Sarah L.">
          <h4>Sarah L.</h4>
          <div style="color: gold; font-size: 1.2rem;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>‚ÄúFast, efficient, and professional service. Highly recommend!‚Äù</p>
        </div>
        <div class="testimonial-card">
          <img src="/img/819aa66e8b442d14f82cf9bf2743e41a.jpg" alt="James T.">
          <h4>James T.</h4>
          <div style="color: gold; font-size: 1.2rem;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>‚ÄúOur gutters look brand new. Thanks!‚Äù</p>
        </div>
        <div class="testimonial-card">
          <img src="/img/819aa66e8b442d14f82cf9bf2743e41a.jpg" alt="Emma R.">
          <h4>Emma R.</h4>
          <div style="color: gold; font-size: 1.2rem;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>‚ÄúProfessional team with great attention to detail.‚Äù</p>
        </div>
        <div class="testimonial-card">
          <img src="/img/819aa66e8b442d14f82cf9bf2743e41a.jpg" alt="Liam K.">
          <h4>Liam K.</h4>
          <div style="color: gold; font-size: 1.2rem;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>‚ÄúExcellent service and friendly staff. Highly recommended.‚Äù</p>
        </div>
        <div class="testimonial-card">
          <img src="/img/819aa66e8b442d14f82cf9bf2743e41a.jpg" alt="John D.">
          <h4>John D.</h4>
          <div style="color: gold; font-size: 1.2rem;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>‚ÄúGreat experience from start to finish!‚Äù</p>
        </div>
        <div class="testimonial-card">
          <img src="/img/819aa66e8b442d14f82cf9bf2743e41a.jpg" alt="Anna P.">
          <h4>Anna P.</h4>
          <div style="color: gold; font-size: 1.2rem;">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
          <p>‚ÄúSuper happy with the results. Highly recommend!‚Äù</p>
        </div>
      </div>
    </div>

    <div style="text-align: center; margin-top: 1rem;">
      <button id="prevTestimonial" class="btn" style="font-family: 'Poppins', sans-serif;">‚Üê Prev</button>
      <button id="nextTestimonial" class="btn" style="font-family: 'Poppins', sans-serif;">Next ‚Üí</button>
    </div>
  </div>
</section>

  <!-- Service Area Section -->
    <!-- Service Area Section -->
  <section id="service-area" class="section">
    <div class="container">
      <b>
        <h2 style="margin-bottom: 2.5rem; text-align: center;">Service Area</h2>
      </b>
      <p style="margin-bottom: 1rem;">We proudly serve various areas throughout Devon. Check the map below to see if we
        cover your location.
      </p>
      <div style="width: 100%; height: 400px;">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d91188.94832151145!2d-4.185!3d50.715!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x486c9d9c3ffb3cbb%3A0x4eac7f0b94dbeb29!2sDevon%2C%20UK!5e0!3m2!1sen!2suk!4v1716000000000"
          width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
      </div>
    </div>
  </section>


  <!-- Contact Section -->
  <!-- Contact Section -->
<section id="contact" class="contact section">
  <div class="container" style="font-family: 'Poppins', sans-serif;">
    <h3 style="color: #eaf8f8;">Contact Us</h3>

    <form id="contact-form" action="https://formspree.io/f/xeolvngo" method="POST">
      <input type="text" name="Name:" placeholder="Your Name" required style="font-family: 'Poppins', sans-serif;" />
      <input type="email" name="Email:" placeholder="Your Email" required style="font-family: 'Poppins', sans-serif;" />
      
      <!-- UK Phone Number -->
      <input type="tel" name="Phone:" placeholder="Your Phone Number (e.g. +44 7123 456789)" 
             pattern="^(\+44\s?7\d{3}|\(?07\d{3}\)?)\s?\d{3}\s?\d{3}$" 
             required style="font-family: 'Poppins', sans-serif;" />

      <input type="text" name="Address:" placeholder="Your Address" required style="font-family: 'Poppins', sans-serif;" />
      <textarea name="Issue:" placeholder="Your Issue" required style="font-family: 'Poppins', sans-serif;"></textarea>
      <button type="submit" class="btn" style="font-family: 'Poppins', sans-serif;">Send Message</button>
    </form>

    <!-- Clickable England Phone Number -->
    <div style="margin-top: 1rem;">
      <a href="tel:+447848254198" style="color:white; font-size:1.1rem; font-weight:600; text-decoration:none;">
       +44 7848 254198
      </a>
    </div>

    <div style="margin-top: 1rem;">
      <a href="mailto:contact@fixdripgutters.co.uk" style="color:white; font-size:1.1rem; font-weight:600; text-decoration:none;">
        contact@fixdripgutters.co.uk
      </a>
    </div>
  </div>
</section>



  <!-- Footer Section -->
  <footer class="footer">
    <p>&copy; 2025 Fix Drip Gutters. All rights reserved.</p>
  </footer>

  <!-- JS -->
  <script>
    window.addEventListener("scroll", () => {
  const btn = document.getElementById("backToTopBtn");
  const homeSection = document.getElementById("home");
  if (!homeSection) return;

  const homeBottom = homeSection.offsetTop + homeSection.offsetHeight;
  const scrollY = window.scrollY || document.documentElement.scrollTop;

  if (scrollY > homeBottom) {
    btn.classList.add("show");
  } else {
    btn.classList.remove("show");
  }
});

document.getElementById("backToTopBtn").addEventListener("click", () => {
  const homeSection = document.getElementById("home");
  if (homeSection) {
    homeSection.scrollIntoView({ behavior: "smooth" });
  }
});





    document.getElementById("contact-form").addEventListener("submit", function (e) {
      e.preventDefault(); // Prevent the default form submission

      // Optional: actually send the form
      fetch(this.action, {
        method: this.method,
        body: new FormData(this),
        headers: {
          'Accept': 'application/json'
        }
      }).then(response => {
        if (response.ok) {
          const popup = document.getElementById("thankYouPopup");
          popup.classList.remove("hidden");
          popup.classList.add("show");

          // Hide it again after 3 seconds
          setTimeout(() => {
            popup.classList.remove("show");
            popup.classList.add("hidden");
          }, 3000);

          // Reset form
          this.reset();
        }
      })
    });

    document.addEventListener("DOMContentLoaded", function () {
      const form = document.getElementById("contact-form");
      const popup = document.getElementById("popup");

      form.addEventListener("submit", function (e) {
        e.preventDefault(); // prevent actual submission for demo
        popup.classList.add("show");

        setTimeout(() => {
          popup.classList.remove("show");
        }, 3000); // hide after 3s
      });
    });


    document.getElementById("contact-form").addEventListener("submit", async function (event) {
      event.preventDefault(); // stop default form submission

      const form = event.target;
      const formData = new FormData(form);

      const response = await fetch("https://formspree.io/f/xzzrldrw", {
        method: "POST",
        body: formData,
        headers: {
          'Accept': 'application/json'
        }
      });
    });

  </script>

  <script>
  const scrollBtn = document.getElementById('scrollToTopBtn');
  const homeSection = document.getElementById('home');

  window.addEventListener('scroll', () => {
    const homeBottom = homeSection.getBoundingClientRect().bottom;

    // Show button only if we have scrolled past the home section
    if (homeBottom < 0) {
      scrollBtn.style.display = 'flex';  // use flex so align-items works
    } else {
      scrollBtn.style.display = 'none';
    }
  });

  scrollBtn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
</script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const prevBtn = document.getElementById('prevTestimonial');
      const nextBtn = document.getElementById('nextTestimonial');
      const testimonialsGrid = document.querySelector('.testimonials-grid');
      const cards = document.querySelectorAll('.testimonial-card');

      let currentIndex = 0;

      function getVisibleCount() {
        return window.innerWidth <= 600 ? 1 : 3;
      }

      function updateButtons() {
        prevBtn.disabled = currentIndex === 0;
        // Max index = total cards - visible cards
        const maxIndex = cards.length - getVisibleCount();
        nextBtn.disabled = currentIndex >= maxIndex;
      }

      function updateCarousel() {
        const cardWidth = cards[0].offsetWidth + 16; // card width + gap
        const translateX = -currentIndex * cardWidth;
        testimonialsGrid.style.transform = `translateX(${translateX}px)`;
        updateButtons();
      }

      prevBtn.addEventListener('click', () => {
        currentIndex = Math.max(0, currentIndex - getVisibleCount());
        updateCarousel();
      });

      nextBtn.addEventListener('click', () => {
        const maxIndex = cards.length - getVisibleCount();
        currentIndex = Math.min(maxIndex, currentIndex + getVisibleCount());
        updateCarousel();
      });

      // Update on resize
      window.addEventListener('resize', () => {
        // Adjust currentIndex if needed on resize
        const maxIndex = cards.length - getVisibleCount();
        if (currentIndex > maxIndex) currentIndex = maxIndex < 0 ? 0 : maxIndex;
        updateCarousel();
      });

      // Initialize
      updateCarousel();
    });

    document.addEventListener('DOMContentLoaded', () => {
  const slider = document.querySelector('.projects-slider');
  const prevBtn = document.getElementById('prevPic');
  const nextBtn = document.getElementById('nextPic');

  // Width of one card + gap
  const card = slider.querySelector('.project-card');
  const gap = parseInt(getComputedStyle(slider).gap) || 20; // fallback if gap not defined
  const scrollAmount = card.offsetWidth + gap;

  prevBtn.addEventListener('click', () => {
    slider.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
  });

  nextBtn.addEventListener('click', () => {
    slider.scrollBy({ left: scrollAmount, behavior: 'smooth' });
  });
});


    const hamburger = document.querySelector('.hamburger');
    const nav = document.querySelector('.nav');
    const navLinks = document.querySelectorAll('.nav-link');
    const underline = document.querySelector('.nav-underline');

    // Toggle menu open/close
    hamburger.addEventListener('click', () => {
      hamburger.classList.toggle('active');
      nav.classList.toggle('show');
    });

    // Close menu when a link is clicked (on mobile)
    navLinks.forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth <= 768) {
          nav.classList.remove('show');
          hamburger.classList.remove('active');
        }
      });
    });

    // Navbar underline animation for desktop and scroll interaction
    let userClicked = false;
    let clickTimeout;

    function updateUnderline(el) {
      if (!el) return;

      // Get bounding rects
      const navRect = nav.getBoundingClientRect();
      const linkRect = el.getBoundingClientRect();

      // Calculate left position relative to nav container
      const leftPos = linkRect.left - navRect.left;

      underline.style.left = leftPos + 'px';
      underline.style.width = linkRect.width + 'px';
    }

    // Initialize underline on load
    window.addEventListener('load', () => {
      const active = document.querySelector('.nav-link.active');
      if (active) updateUnderline(active);
    });

    // Mouse enter and click handlers for nav links
    navLinks.forEach(link => {
      link.addEventListener('mouseenter', () => {
        if (!userClicked && window.innerWidth > 768) {
          updateUnderline(link);
        }
      });

      link.addEventListener('click', (e) => {
        e.preventDefault();
        userClicked = true;
        clearTimeout(clickTimeout);

        navLinks.forEach(l => l.classList.remove('active'));
        link.classList.add('active');
        updateUnderline(link);

        // Smooth scroll to section
        const targetSection = document.querySelector(link.getAttribute('href'));
        if (targetSection) {
          targetSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Allow scroll-based active update again after 1 second
        clickTimeout = setTimeout(() => {
          userClicked = false;
        }, 1000);

        // Close mobile menu if open
        if (window.innerWidth <= 768 && nav.classList.contains('show')) {
          nav.classList.remove('show');
          hamburger.classList.remove('active');
        }
      });
    });

    // Throttle helper function
    function throttle(fn, wait) {
      let time = Date.now();
      return function () {
        if ((time + wait - Date.now()) < 0) {
          fn();
          time = Date.now();
        }
      };
    }

    // Update underline based on scroll position
    window.addEventListener('scroll', throttle(() => {
  if (userClicked) return;

  // If at top, highlight home
  if (window.scrollY < 100) {
    navLinks.forEach(link => {
      if (link.getAttribute('href') === '#home') {
        navLinks.forEach(l => l.classList.remove('active'));
        link.classList.add('active');
        updateUnderline(link);
      }
    });
    return;
  }

  let closestSection = null;
  let closestDistance = Number.POSITIVE_INFINITY;

  document.querySelectorAll('section[id]').forEach(section => {
    const rect = section.getBoundingClientRect();
    if (rect.top <= 150 && rect.top >= -300 && rect.top < closestDistance) {
      closestDistance = rect.top;
      closestSection = section;
    }
  });

  if (closestSection) {
    const id = closestSection.getAttribute('id');
    navLinks.forEach(link => {
      if (link.getAttribute('href') === `#${id}`) {
        if (!link.classList.contains('active')) {
          navLinks.forEach(l => l.classList.remove('active'));
          link.classList.add('active');
          updateUnderline(link);
        }
      }
    });
  }
}, 100));


    // Optional: Update underline on window resize
    window.addEventListener('resize', () => {
      const active = document.querySelector('.nav-link.active');
      if (active) updateUnderline(active);
    });
  </script>

  

  <link rel="stylesheet" href="script.js">
  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // Initialize the map
    const map = L.map('map').setView([51.505, -0.09], 13); // Centered on London by default

    // Add OpenStreetMap tiles
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
    }).addTo(map);

    // Marker variable
    let marker;

    // When user clicks on map, set/update marker and update hidden input value
    map.on('click', function (e) {
      const { lat, lng } = e.latlng;

      if (marker) {
        marker.setLatLng(e.latlng);
      } else {
        marker = L.marker(e.latlng).addTo(map);
      }

      // Update hidden input with latitude and longitude as a string
      document.getElementById('location').value = lat + ',' + lng;
    });

    // Optional: Form validation to ensure location is selected
    document.getElementById('contact-form').addEventListener('submit', function (e) {
      if (!document.getElementById('location').value) {
        e.preventDefault();
        alert('Please select your location on the map.');
      }
    });
  </script>

  <div id="popup" class="popup">
    <div class="popup-content">
      <h4>Thank you!</h4>
      <p>We‚Äôve received your message and will get back to you soon.</p>
    </div>
  </div>
   

  <a href="#home" class="back-to-top-btn" style="font-family: 'Poppins', sans-serif;">
  <button id="backToTopBtn" title="Go to top" 
          style="font-family: 'Poppins', sans-serif; font-weight: bold; padding: 0; width: 60px; height: 60px; background: white; border: 2px solid #005b5c; border-radius: 50%; cursor: pointer; box-shadow: 0 4px 8px rgba(0,91,92,0.2);">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="#005b5c" xmlns="http://www.w3.org/2000/svg" style="display: block; margin: auto;">
      <path d="M7 14l5-5 5 5H7z"/>
    </svg>
  </button>
</a>



<script>
  document.getElementById("contact-form").addEventListener("submit", async function (e) {
    e.preventDefault();

    const form = e.target;
    const formData = new FormData(form);

    try {
      const response = await fetch("https://formspree.io/f/xzzrldrw", {
        method: "POST",
        body: formData,
        headers: { 'Accept': 'application/json' }
      });

      if (response.ok) {
        form.reset();

        const messagePopup = document.getElementById("message-sent");
        messagePopup.classList.add("show");

        setTimeout(() => {
          messagePopup.classList.remove("show");
        }, 3000);
      } else {
        alert("Something went wrong. Please try again.");
      }
    } catch (error) {
      alert("Error sending message.");
    }
  });

  const slider = document.getElementById('slider');
  const afterImg = document.getElementById('afterImg');
  const handle = document.getElementById('sliderHandle');

  slider.addEventListener('mousemove', (e) => {
    const rect = slider.getBoundingClientRect();
    let x = e.clientX - rect.left;
    x = Math.max(0, Math.min(x, rect.width));

    const percent = (x / rect.width) * 100;
    afterImg.style.clipPath = `inset(0 ${100 - percent}% 0 0)`;
    handle.style.left = `${percent}%`;
  });

  slider.addEventListener('touchmove', (e) => {
    const rect = slider.getBoundingClientRect();
    let x = e.touches[0].clientX - rect.left;
    x = Math.max(0, Math.min(x, rect.width));

    const percent = (x / rect.width) * 100;
    afterImg.style.clipPath = `inset(0 ${100 - percent}% 0 0)`;
    handle.style.left = `${percent}%`;
  });

  
</script>



<script>
  const form = document.getElementById("contact-form");
  const message = document.getElementById("form-message");

  form.addEventListener("submit", async function (e) {
    e.preventDefault(); // Prevent page redirect

    const formData = new FormData(form);
    const response = await fetch(form.action, {
      method: "POST",
      body: formData,
      headers: {
        'Accept': 'application/json'
      }
    });

    if (response.ok) {
      form.reset(); // Clear form
      message.style.display = "block"; // Show success message
    } else {
      message.innerText = "Oops! Something went wrong.";
      message.style.display = "block";
    }
  });
</script>
<div id="message-sent" class="message-popup">
  Message Sent!
</div>

</body>

</html>